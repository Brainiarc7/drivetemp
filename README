Driver for SMART temperature sensors on (S)ATA drives
-----------------------------------------------------

S.M.A.R.T. temperature sensors have been supported for years by userspace
tools such as smarttools and hddtemp. This driver adds support to read
the temperature directly from the kernel using the hwmon API and adds a
temperature zone for each drive.

With this driver, the hard disk temperature can be read using the
unprivileged 'sensors' application:
    
$ sensors smarttemp-scsi-1-0
smarttemp-scsi-1-0
Adapter: SCSI adapter
temp1:        +23.0Â°C
    
or directly from sysfs:
    
$ grep . /sys/class/hwmon/hwmon9/{name,temp1_input}
/sys/class/hwmon/hwmon9/name:smarttemp
/sys/class/hwmon/hwmon9/temp1_input:23000

Note: 'sensors' has to be from the most recent version of the lm-sensors
package.


Implementation details
----------------------

There are three SMART attributes reporting drive temperatures.
Those are defined as follows (from
http://www.cropel.com/library/smart-attribute-list.aspx).

190	Temperature	Temperature, monitored by a sensor somewhere inside
			the drive. Raw value typicaly holds the actual
			temperature (hexadecimal) in its rightmost two digits.

194	Temperature	Temperature, monitored by a sensor somewhere inside
			the drive. Raw value typicaly holds the actual
			temperature (hexadecimal) in its rightmost two digits.

231	Temperature	Temperature, monitored by a sensor somewhere inside
			the drive. Raw value typicaly holds the actual
			temperature (hexadecimal) in its rightmost two digits.

Common denominator is that the first raw byte reports the temperature
in degrees C on almost all drives. Some drives may report a fractional
temperature in the second raw byte.

Known exceptions:
- SAMSUNG SV0412H and SAMSUNG SV1204H) report the temperature in 10th
  degrees C in the first two raw bytes.
- A few Maxtor drives report an unknown or bad value in attribute 194.
- Certain Apple SSD drives report an unknown value in attribute 190.
  Only certain firmware versions are affected.

Those exceptions affect older ATA drives and are currently ignored.
Also, the second raw byte (possibly reporting the fractional temperature)
is currently ignored.

Many drives also report temperature limits in additional raw bytes.
The format of those is not well defined and varies widely. The driver
does not currently attempt to report those limits.
